<?xml version="1.0" encoding="utf-8"?>

<odoo>
    <!-- Sale Order -->

    <template id="ths_remove_taxes_in_reports_sale_order_report" inherit_id="sale.report_saleorder_document">
        <xpath expr="//th[@name='th_taxes']" position="attributes">
            <attribute name="t-if">not doc.ths_hide_taxes</attribute>
        </xpath>

        <xpath expr="//td[@name='td_taxes']" position="attributes">
            <attribute name="t-if">not doc.ths_hide_taxes</attribute>
        </xpath>

        <!--        <xpath expr="//div[hasclass('clearfix')]" position="attributes">-->
        <!--            <attribute name="class" add="d-none" separator=" "/>-->
        <!--        </xpath>-->

        <!--                <xpath expr="//table" position="after">-->
        <!--                    <div id="total" class="row justify-content-end">-->
        <!--                        <div class="col-4">-->
        <!--                            <table class="table table-sm">-->
        <!--                                <t t-set="tax_totals" t-value="doc.tax_totals"/>-->
        <!--                                <t t-if="not doc.ths_hide_taxes">-->
        <!--                                    <t t-call="account.document_tax_totals"/>-->
        <!--                                </t>-->
        <!--                                <t t-else="">-->
        <!--                                    <t t-call="ths_base.document_tax_totals"/>-->
        <!--                                </t>-->
        <!--                            </table>-->
        <!--                        </div>-->
        <!--                    </div>-->
        <!--                </xpath>-->
    </template>

    <!-- Purchase Order -->
    <template id="ths_remove_taxes_in_reports_purchase_order_report" inherit_id="purchase.report_purchaseorder_document">
        <xpath expr="//th[@name='th_taxes']" position="attributes">
            <attribute name="t-if">not doc.ths_hide_taxes</attribute>
        </xpath>


        <!--Tax Total -->
        <!--        <xpath expr="//div[hasclass('row')][2]" position="attributes">-->
        <!--            <attribute name="class" add="d-none" separator=" "/>-->
        <!--        </xpath>-->

        <!--        <xpath expr="//table" position="after">-->
        <!--            <div id="total" class="row justify-content-end">-->
        <!--                <div class="col-4">-->
        <!--                    <table class="table table-sm">-->
        <!--                        <t t-set="tax_totals" t-value="doc.tax_totals"/>-->
        <!--                        <t t-if="not doc.ths_hide_taxes">-->
        <!--                            <t t-call="account.document_tax_totals"/>-->
        <!--                        </t>-->
        <!--                        <t t-else="">-->
        <!--                            <t t-call="ths_base.document_tax_totals"/>-->
        <!--                        </t>-->
        <!--                    </table>-->
        <!--                </div>-->
        <!--            </div>-->
        <!--        </xpath>-->

    </template>

    <!-- Customer Invoice / Vendor Bills-->
    <template id="ths_remove_taxes_customer_invoice_report" inherit_id="account.report_invoice_document">
        <!-- Table Header -->
        <xpath expr="//th[@name='th_taxes']" position="attributes">
            <attribute name="t-if">not o.ths_hide_taxes</attribute>
        </xpath>

        <xpath expr="//td[@name='td_taxes']" position="attributes">
            <attribute name="t-if">not o.ths_hide_taxes</attribute>
        </xpath>

<!--        <xpath expr="//div[hasclass('clearfix')]" position="attributes">-->
<!--            <attribute name="class" add="d-none" separator=" "/>-->
<!--        </xpath>-->


    </template>

    <template id="ths_remove_taxes_document_invoice_report" inherit_id="account.document_tax_totals_company_currency_template">
        <xpath expr="//table[hasclass('o_total_table')]//t[1]" position="attributes">
            <attribute name="t-if">not o.ths_hide_taxes</attribute>
        </xpath>
    </template>

    <template id="ths_remove_taxes_document_invoice_report2" inherit_id="account.document_tax_totals_template">
        <xpath expr="//t[2]" position="attributes">
            <attribute name="t-if">not o.ths_hide_taxes</attribute>
        </xpath>
        <xpath expr="//tr[hasclass('o_total')]" position="attributes"><attribute name="t-if">not o.ths_hide_taxes</attribute></xpath>
    </template>

</odoo>
